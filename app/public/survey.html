<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Friend Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://fonts.googleapis.com/css?family=Passion+One" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Boogaloo" rel="stylesheet">


  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css">
  <script src="main.js"></script> -->
</head>

<style>
  body {
        background: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-wFmGMn3dRYtdG_GuXT_7YExwve0LSK9DWEQdihJdljDBHnLOnw");
    }
    
  h1{
    font-family: 'Passion One', cursive;
    font-size: 110px;
    text-align: center;
    margin-bottom: 7%;
    color: rgb(41, 175, 252);
    letter-spacing: 4px;
  }

  h2{
    /* text-align: center; */
  }

  ol{
    /* color: rgb(67, 184, 252); */
    
  }

  li{
    font-size: 40px;
  }

  h2,h4,h5{
    font-family: 'Boogaloo', cursive;
  }

  p{
    /* color: rgb(67, 184, 252); */
    
  }
     #bord {
        color: black;
        border-right: 2px solid black;
        padding: 1%;
        margin-right:1%;
    }
    a{
      color: black;
    }
    a:hover {
        color: rgb(0, 132, 255);
    }
    #link {
        border-right: none;
        padding: 0%;
        text-decoration: none;
    }
    
</style>

<body>
<div class="container">
  <h1>Survey Questions</h1>
</div>
<div class="container">
  <div class="about">
    <h2 class="h1">About You</h2>
  <hr>
<form>
  <div class="form-row">
    <div class="form-group col-md-6">
      <h4><label for="Name">Name (Required)</label>
        <input type="text" class="form-control" placeholder="First Name" id="userName">
      </h4>
    </div>
    <div class="form-group col-md-6">
      <h4><label for="link">Link To Photo Image (Required)</label>
          <input type="text" class="form-control" placeholder="Image Link" id="pic">
        </h4>
    </div>
  </div>
</form>

  <!-- Questions -->
  <ol>
    <h4>
      <li>
          <p>Boba is your favorite topping in your drink?</p>
    </h4>
      <div class="options">
        <h5>
          <label for="choice">Strongly-Disagree</label>
          <label class="radio-inline"><input type="radio" name="q1" value="1">1</label>
          <label class="radio-inline"><input type="radio" name="q1" value="2">2</label>
          <label class="radio-inline"><input type="radio" name="q1" value="3">3</label>
          <label class="radio-inline"><input type="radio" name="q1" value="4">4</label>
          <label class="radio-inline"><input type="radio" name="q1" value="5">5</label>
          <label for="choice">Strongly-Agree</label>
        </h5>
      </div>
      </li>

    <h4>
      <li>
          <p>Dogs are the best pets?</p>
    </h4>
      <div class="options">
        <h5>
          <label for="choice">Strongly-Disagree</label>
          <label class="radio-inline"><input type="radio" name="q2" value="1">1</label>
          <label class="radio-inline"><input type="radio" name="q2" value="2">2</label>
          <label class="radio-inline"><input type="radio" name="q2" value="3">3</label>
          <label class="radio-inline"><input type="radio" name="q2" value="4">4</label>
          <label class="radio-inline"><input type="radio" name="q2" value="5">5</label>
          <label for="choice">Strongly-Agree</label>
        </h5>
      </div>
      </li>

    <h4>
      <li>
        <p>Marvel is better than DC?</p>
    </h4>
      <div class="options">
        <h5>
          <label for="choice">Strongly-Disagree</label>
          <label class="radio-inline"><input type="radio" name="q3" value="1">1</label>
          <label class="radio-inline"><input type="radio" name="q3" value="2">2</label>
          <label class="radio-inline"><input type="radio" name="q3" value="3">3</label>
          <label class="radio-inline"><input type="radio" name="q3" value="4">4</label>
          <label class="radio-inline"><input type="radio" name="q3" value="5">5</label>
          <label for="choice">Strongly-Agree</label>
        </h5>
      </div>
      </li>

    <h4>
      <li>
          <p>Are you the life of the party?</p>
    </h4>
      <div class="options">
        <h5>
          <label for="choice">Strongly-Disagree</label>
          <label class="radio-inline"><input type="radio" name="q4" value="1">1</label>
          <label class="radio-inline"><input type="radio" name="q4" value="2">2</label>
          <label class="radio-inline"><input type="radio" name="q4" value="3">3</label>
          <label class="radio-inline"><input type="radio" name="q4" value="4">4</label>
          <label class="radio-inline"><input type="radio" name="q4" value="5">5</label>
          <label for="choice">Strongly-Agree</label>
        </h5>
      </div>
      </li>

    <h4>
      <li>
        <p>Korean BBQ tops all?</p>
    </h4>
      <div class="options">
        <h5>
          <label for="choice">Strongly-Disagree</label>
          <label class="radio-inline"><input type="radio" name="q5" value="1">1</label>
          <label class="radio-inline"><input type="radio" name="q5" value="2">2</label>
          <label class="radio-inline"><input type="radio" name="q5" value="3">3</label>
          <label class="radio-inline"><input type="radio" name="q5" value="4">4</label>
          <label class="radio-inline"><input type="radio" name="q5" value="5">5</label>
          <label for="choice">Strongly-Agree</label>
        </h5>
      </div>
      </li>

      <h4>
        <li>
          <p>I'm more of a night person than a morning person?</p>
      </h4>
      <div class="options">
        <h5>
          <label for="choice">Strongly-Disagree</label>
          <label class="radio-inline"><input type="radio" name="q6" value="1">1</label>
          <label class="radio-inline"><input type="radio" name="q6" value="2">2</label>
          <label class="radio-inline"><input type="radio" name="q6" value="3">3</label>
          <label class="radio-inline"><input type="radio" name="q6" value="4">4</label>
          <label class="radio-inline"><input type="radio" name="q6" value="5">5</label>
          <label for="choice">Strongly-Agree</label>
        </h5>
      </div>
      </li>

    <h4>
      <li>
        <p>The book is better than the movie?</p>
    </h4>
    <div class="options">
      <h5>
        <label for="choice">Strongly-Disagree</label>
        <label class="radio-inline"><input type="radio" name="q7" value="1">1</label>
        <label class="radio-inline"><input type="radio" name="q7" value="2">2</label>
        <label class="radio-inline"><input type="radio" name="q7" value="3">3</label>
        <label class="radio-inline"><input type="radio" name="q7" value="4">4</label>
        <label class="radio-inline"><input type="radio" name="q7" value="5">5</label>
        <label for="choice">Strongly-Agree</label>
      </h5>
    </div>
      </li>

    <h4>
      <li>
        <p>There should be more days added to the weekends?</p>
    </h4>
    <div class="options">
      <h5>
        <label for="choice">Strongly-Disagree</label>
        <label class="radio-inline"><input type="radio" name="q8" value="1">1</label>
        <label class="radio-inline"><input type="radio" name="q8" value="2">2</label>
        <label class="radio-inline"><input type="radio" name="q8" value="3">3</label>
        <label class="radio-inline"><input type="radio" name="q8" value="4">4</label>
        <label class="radio-inline"><input type="radio" name="q8" value="5">5</label>
        <label for="choice">Strongly-Agree</label>
      </h5>
    </div>
      </li>

    <h4>
      <li>
        <p>Hot weather is better than cold weather?</p>
    </h4>
      <div class="options">
        <h5>
          <label for="choice">Strongly-Disagree</label>
          <label class="radio-inline"><input type="radio" name="q9" value="1">1</label>
          <label class="radio-inline"><input type="radio" name="q9" value="2">2</label>
          <label class="radio-inline"><input type="radio" name="q9" value="3">3</label>
          <label class="radio-inline"><input type="radio" name="q9" value="4">4</label>
          <label class="radio-inline"><input type="radio" name="q9" value="5">5</label>
          <label for="choice">Strongly-Agree</label>
        </h5>
      </div>
      </li>

    <h4>
      <li>
        <p>Anime is better than manga?</p>
    </h4>
    <div class="options">
      <h5>
        <label for="choice">Strongly-Disagree</label>
        <label class="radio-inline"><input type="radio" name="q10" value="1">1</label>
        <label class="radio-inline"><input type="radio" name="q10" value="2">2</label>
        <label class="radio-inline"><input type="radio" name="q10" value="3">3</label>
        <label class="radio-inline"><input type="radio" name="q10" value="4">4</label>
        <label class="radio-inline"><input type="radio" name="q10" value="5">5</label>
        <label for="choice">Strongly-Agree</label>
      </h5>
    </div>
      </li>
  </ol>
  
  <button type="button" class="btn btn-outline-primary" id="submit">Submit</button>
  <!-- <button type="button" class="btn btn-warning btn-lg btn-block" id="submit">Submit</button> -->
</div>
<br>


<!-- Links to git hub and json data -->
<h5>
    <a id = "bord" href="/api/friends">API Friend List    </a>
    <!-- <p>|</p> -->
    <a href="https://github.com/emjeely/Friend-Finder"> GitHub Repo</a>

</h5>
</div>


<!-- Modal that pop up with matching personality of user -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
  <div class="modal-content">
      <div class="modal-header">
          <h5 class="modal-title">Your new BEST FRIEND!</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
          </button>
      </div>
      <div class="modal-body">
          <h1 id="matchName"></h1>
          <img id="matchPic" src="" alt="not found">
      </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
  </div>
</div>
</div>
</body>

<script>
  $("#submit").on("click", function () {
      var check=true;
      var total = [];
      var nameValue = $("#userName").val().trim();
      var picValue = $("#pic").val().trim();
      console.log(nameValue);
      $("input:radio").each(function () {
          var name = $(this).attr("name");
          if ($("input:radio[name=" + name + "]:checked").length == 0) {
              check = false;
          }
      });
      if (!picValue) {
          check = false;
      }
      if (!nameValue  || nameValue.length < 5 || (!(/^\S{3,}$/.test(nameValue)))  ||  (!(/^[a-zA-Z]+$/.test(nameValue)))  || (!(/^(?:(\w)(?!\1\1))+$/.test(nameValue)))) {
          check=false;
      }
      if (!check) {
          alert("Please fill out all the fields before submitting");
      }
      else {
          var newFriend = {
              name: $("#userName").val().trim(),
              photo: $("#pic").val().trim(),
              scores: [
                  $("input[name=q1]:checked").val(),
                  $("input[name=q2]:checked").val(),
                  $("input[name=q3]:checked").val(),
                  $("input[name=q4]:checked").val(),
                  $("input[name=q5]:checked").val(),
                  $("input[name=q6]:checked").val(),
                  $("input[name=q7]:checked").val(),
                  $("input[name=q8]:checked").val(),
                  $("input[name=q9]:checked").val(),
                  $("input[name=q10]:checked").val(),
              ]
          }
          $.post("/api/friends", newFriend).then(function (data) {
              console.log(data);
              $("#matchName").text(data.name);
              $("#matchPic").attr("src", data.photo);
              $('#exampleModalCenter').modal('toggle')
          });
      }
  });
</script>
</html>
